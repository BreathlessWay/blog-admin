(this["webpackJsonpblog-admin"]=this["webpackJsonpblog-admin"]||[]).push([[10],{491:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a(428);var n=a(432),r=function(t){return new Promise((function(e,a){n.a.destroy();var r=n.a.loading("\u6587\u4ef6\u4e0a\u4f20\u4e2d...",0),o=new FileReader;o.readAsDataURL(t),o.onload=function(o){o.target&&o.target.result?e({url:o.target.result,title:t.name,objectId:Date.now()+""}):(n.a.error("".concat(t.name,"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25")),a()),r()}}))}},866:function(t,e,a){},887:function(t,e,a){"use strict";a.r(e);var n=a(11),r=a(12),o=a(33),i=a(31),l=a(32),c=a(0),u=a.n(c),s=a(130),d=a(102),h=a.n(d),p=a(68),f=a(491),v=(a(866),a(867),a(868)),g=a.n(v),m=(a(869),a(870)),b=a.n(m);a(871);h.a.use(g()({defaultColumns:3,defaultRows:3,withDropdown:!0,exportAttrString:""}));var x;h.a.use(b()({theme:"light"}));var D=Object(s.b)((function(t){return{articleDetailStore:t.articleDetailStore,homepageStore:t.homepageStore}}))(x=Object(s.c)(x=function(t){function e(){var t,a;Object(n.a)(this,e);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(l)))).submitContent=function(){},a.handleEditorChange=function(t){var e=a.props.articleDetailStore,n=e.validError,r=e.changeDetail,o=e.detail;n({key:p.b.contentError,value:!t.toText()&&(null===o||void 0===o?void 0:o.renderType)===p.c.richText}),r({key:p.a.draftDetail,value:t})},a.handleUploadFile=function(t){Object(f.a)(t.file).then((function(e){var a=e.url,n=e.title;t.success({url:a,meta:{id:"xxx",title:n,alt:n,loop:!0,autoPlay:!0,controls:!0,poster:"http://xxx/xx.png"}})})).catch((function(e){t.error({msg:e})}))},a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props.articleDetailStore.detail,e=this.props.homepageStore.articleAlias;return u.a.createElement(h.a,{className:"rich-text",placeholder:"\u8bf7\u8f93\u5165".concat(e,"\u5185\u5bb9..."),value:null===t||void 0===t?void 0:t.draftDetail,onChange:this.handleEditorChange,onSave:this.submitContent,media:{uploadFn:this.handleUploadFile}})}}]),e}(c.Component))||x)||x;e.default=D}}]);