{"version":3,"sources":["utils/parseSearch.ts","pages/PhotographyPage/PhotographyEditPage/index.tsx"],"names":["parseSearch","search","_search","replace","qs","parse","warning","PhotoListComponent","lazy","PhotographyEditPage","inject","observer","_this","this","albumId","props","photoListStore","resetStore","getList","title","content","okText","onOk","history","routeMapPath","photography","home","location","id","Component"],"mappings":"iHAAA,wDAEaA,EAAc,SAAIC,GAC9B,IAAMC,EAAUD,EAAOE,QAAQ,WAAY,MAC3C,OAAID,EACIE,IAAGC,MAAMH,GAEV,O,kJCMAI,E,IAAAA,QAEFC,EAAqBC,gBAAK,kBAC/B,6EAUKC,EAFLC,YAAO,iB,GACPC,Y,8LAOC,IAAMC,EAAQC,KAETD,EAAME,SAWXF,EAAMG,MAAMC,eAAeC,aAC3BL,EAAMG,MAAMC,eAAeE,WAX1BZ,EAAQ,CACPa,MAAO,eACPC,QAAS,+CACTC,OAAQ,eACRC,KAJO,WAKNV,EAAMG,MAAMQ,QAAQpB,QAAQqB,IAAaC,YAAYC,W,+BAUxD,OAAO,kBAACnB,EAAD,CAAoBO,QAASD,KAAKC,Y,8BAvB3B,IAAD,IACb,2BAAOd,YAA4Ba,KAAKE,MAAMY,SAAS1B,eAAvD,aAAO,EAAyD2B,UAAhE,QAAsE,O,GAFtCC,e,MA4BlBpB","file":"static/js/PhotographyEditPage.9235b63f.chunk.js","sourcesContent":["import qs from 'qs';\n\nexport const parseSearch = <T>(search: string): T | null => {\n\tconst _search = search.replace(/^\\?(.*)$/, '$1');\n\tif (_search) {\n\t\treturn qs.parse(_search);\n\t}\n\treturn null;\n};\n","import React, { Component, ComponentClass, lazy } from 'react';\n\nimport { RouteComponentProps } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\n\nimport { Modal } from 'antd';\n\nimport { StoreType } from '@/store/store';\n\nimport { parseSearch } from '@/utils/parseSearch';\n\nimport { routeMapPath } from '@/route';\n\nconst { warning } = Modal;\n\nconst PhotoListComponent = lazy(() =>\n\timport(\n\t\t/* webpackChunkName: \"PhotoListComponent\" */ '@/components/business/PhotoListComponent'\n\t),\n);\n\nexport type PhotographyEditPagePropType = Pick<StoreType, 'photoListStore'> &\n\tRouteComponentProps;\n\n@inject('photoListStore')\n@observer\nclass PhotographyEditPage extends Component<PhotographyEditPagePropType> {\n\tget albumId() {\n\t\treturn parseSearch<{ id: string }>(this.props.location.search)?.id ?? '';\n\t}\n\n\tcomponentDidMount() {\n\t\tconst _this = this;\n\n\t\tif (!_this.albumId) {\n\t\t\twarning({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '缺少相册id参数！',\n\t\t\t\tokText: '确定',\n\t\t\t\tonOk() {\n\t\t\t\t\t_this.props.history.replace(routeMapPath.photography.home);\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t_this.props.photoListStore.resetStore();\n\t\t_this.props.photoListStore.getList();\n\t}\n\n\trender() {\n\t\treturn <PhotoListComponent albumId={this.albumId} />;\n\t}\n}\n\nexport default (PhotographyEditPage as unknown) as ComponentClass;\n"],"sourceRoot":""}